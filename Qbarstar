%this function works to vary the perfusion per alveoli 
function Qstar=Qbarstar(n, m, d)
%n is the number of alveoli 
%m is the number of alveoli affected 
%d is the degree of the effect of the pulmonary shunt/edema
%d must be a value between 0 and 1
    global Qtotal
    g=d/100;
    f=Qtotal
    if m>n 
        Qstar=disp('error the number of affected alveoli must be less than the total alveoli');
    else 
    a=randperm(n,m);
    Qstar=ones(n,1)*f;
    Qstar(a)=g.*Qstar(a);
    Qstar=Qstar/n;
    end
    
end
