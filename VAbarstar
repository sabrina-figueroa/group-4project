%this function works to vary randomly the ventilation of each alveoli 
function Vstar=VAbarstar(n, m, d)
%n is the number of alveoli 
%m is the number of alveoli affected 
%d is the degree of the effect of the pulmonary shunt/edema
%d must be a value between 0 and 1
    global VAtotal
    d=d;
    f=VAtotal;
    if m>n 
        VAstar=disp('error the number of affected alveoli must be less than the total alveoli');
    else 
    g=d/1000;
    a=randperm(n,m);
    Vstar=ones(n,1)*f;
    Vstar(a)=g.*Vstar(a);
    Vstar=Vstar/n;
    end
    
    
end
